{"version":3,"file":"js/711.ea1ddd0b.js","mappings":"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","sources":["webpack://watermobile_eslintonly/./src/views/Login.vue","webpack://watermobile_eslintonly/./src/components/IdentifyCode.vue","webpack://watermobile_eslintonly/src/components/IdentifyCode.vue","webpack://watermobile_eslintonly/./src/components/IdentifyCode.vue?94c5","webpack://watermobile_eslintonly/./src/components/IdentifyCode.vue?21c0","webpack://watermobile_eslintonly/src/views/Login.vue","webpack://watermobile_eslintonly/./src/views/Login.vue?7d1c","webpack://watermobile_eslintonly/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"fix\"},[_c('form',{staticClass:\"form-signin\"},[_c('img',{staticClass:\"mb-4\",attrs:{\"src\":require(\"../assets/自來水logo.png\"),\"alt\":\"自來水公司LOGO\",\"width\":\"72\",\"height\":\"72\"}}),_c('h1',{staticClass:\"h4 mb-3 font-weight-bold\"},[_vm._v(\"圖資查詢系統\")]),_c('h1',{staticClass:\"h5 mb-3 font-weight-bold\"},[_vm._v(\"(行動版)\")]),_c('b-form-select',{staticClass:\"form-control mb-4 font-weight-bold selectfix\",attrs:{\"options\":_vm.options},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userAccount),expression:\"userAccount\"}],staticClass:\"form-control\",attrs:{\"type\":\"input\",\"placeholder\":\"帳號\",\"required\":\"\"},domProps:{\"value\":(_vm.userAccount)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userAccount=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userPassword),expression:\"userPassword\"}],staticClass:\"form-control mt-4\",attrs:{\"type\":\"password\",\"placeholder\":\"密碼\",\"autocomplete\":\"on\",\"required\":\"\"},domProps:{\"value\":(_vm.userPassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userPassword=$event.target.value}}}),_c('div',{staticClass:\"d-flex align-items-center justify-content-between mt-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userVerify),expression:\"userVerify\"}],staticClass:\"form-control formifx\",attrs:{\"type\":\"verify\",\"placeholder\":\"請輸入驗證碼\",\"required\":\"\"},domProps:{\"value\":(_vm.userVerify)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.LoginCheck.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.userVerify=$event.target.value}}}),_c('b-icon',{staticClass:\"iconfix refresh\",attrs:{\"icon\":\"arrow-clockwise\"},on:{\"click\":_vm.refreshCode}}),_c('IdentifyCode',{staticClass:\"d-flex\",attrs:{\"identifyCode\":_vm.identifyCode}})],1),_c('b-button',{staticClass:\"btn btn-lg btn-block mt-4 fixLoginBtn\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.LoginCheck}},[_vm._v(\"登入\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"s-canvas\"},[_c('canvas',{attrs:{\"id\":\"s-canvas\",\"width\":_vm.contentWidth,\"height\":_vm.contentHeight}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"s-canvas\">\n        <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\n    </div>\n</template>\n  \n<script>\nexport default {\n    name: 'IdentifyCode',\n    props: {\n        //預設註冊碼\n        identifyCode: {\n            type: String,\n            default: '1234'\n        },\n        // 字型最小值\n        fontSizeMin: {\n            type: Number,\n            default: 35\n        },\n        // 字型最大值\n        fontSizeMax: {\n            type: Number,\n            default: 35\n        },\n        // 驗證碼圖片背景色最小值\n        backgroundColorMin: {\n            type: Number,\n            default: 200\n        },\n        // 驗證碼圖片背景色最大值\n        backgroundColorMax: {\n            type: Number,\n            default: 220\n        },\n        // 背景干擾點最小值\n        dotColorMin: {\n            type: Number,\n            default: 60\n        },\n        // 背景干擾點最大值\n        dotColorMax: {\n            type: Number,\n            default: 120\n        },\n        //容器寬度\n        contentWidth: {\n            type: Number,\n            default: 116\n        },\n        //容器高度\n        contentHeight: {\n            type: Number,\n            default: 38\n        }\n    },\n    methods: {\n        // 生成一個隨機數\n        randomNum(min, max) {\n            return Math.floor(Math.random() * (max - min) + min)\n        },\n        // 生成一個隨機的顏色\n        randomColor(min, max) {\n            let r = this.randomNum(min, max)\n            let g = this.randomNum(min, max)\n            let b = this.randomNum(min, max)\n            return 'rgb(' + r + ',' + g + ',' + b + ')'\n        },\n        drawPic() {\n            let canvas = document.getElementById('s-canvas')\n            let ctx = canvas.getContext('2d')\n            ctx.textBaseline = 'bottom'\n            // 繪製背景\n            ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax)\n            ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\n            // 繪製文字\n            for (let i = 0; i < this.identifyCode.length; i++) {\n                this.drawText(ctx, this.identifyCode[i], i)\n            }\n            this.drawLine(ctx)\n            this.drawDot(ctx)\n        },\n        drawText(ctx, txt, i) {\n            //隨機生成字型顏色\n            ctx.fillStyle = this.randomColor(50, 160)\n            //隨機生成字型大小\n            ctx.font = '35px Arial'\n            let x = (i) * (this.contentWidth / (this.identifyCode.length))\n            let y = 38\n            //var deg = this.randomNum(-30, 30)\n            // 修改座標原點和旋轉角度\n            ctx.translate(x, y)\n            //ctx.rotate(deg * Math.PI / 180)\n            ctx.fillText(txt, 0, 0)\n            // 恢復座標原點和旋轉角度\n            // ctx.rotate(-deg * Math.PI / 180)\n            ctx.translate(-x, -y)\n        },\n        drawLine(ctx) {\n            // 繪製干擾線\n            for (let i = 0; i < 0; i++) {\n                ctx.strokeStyle = this.randomColor(100, 200)\n                ctx.beginPath()\n                ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\n                ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\n                ctx.stroke()\n            }\n        },\n        drawDot(ctx) {\n            // 繪製干擾點\n            for (let i = 0; i < 10; i++) {\n                ctx.fillStyle = this.randomColor(0, 255)\n                ctx.beginPath()\n                ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\n                ctx.fill()\n            }\n        }\n    },\n    watch: {\n        identifyCode() {\n            this.drawPic()\n        }\n    },\n    mounted() {\n        this.drawPic()\n    }\n}\n</script>\n  ","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IdentifyCode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IdentifyCode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdentifyCode.vue?vue&type=template&id=08e67422&\"\nimport script from \"./IdentifyCode.vue?vue&type=script&lang=js&\"\nexport * from \"./IdentifyCode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"login\">\n    <div class=\"fix\">\n      <form class=\"form-signin\">\n        <img class=\"mb-4\" src=\"../assets/自來水logo.png\" alt=\"自來水公司LOGO\" width=\"72\" height=\"72\" />\n        <h1 class=\"h4 mb-3 font-weight-bold\">圖資查詢系統</h1>\n        <h1 class=\"h5 mb-3 font-weight-bold\">(行動版)</h1>\n        <b-form-select class=\"form-control mb-4 font-weight-bold selectfix\" v-model=\"selected\"\n          :options=\"options\"></b-form-select>\n        <input class=\"form-control\" type=\"input\" v-model=\"userAccount\" placeholder=\"帳號\" required />\n        <input class=\"form-control mt-4\" type=\"password\" v-model=\"userPassword\" placeholder=\"密碼\" autocomplete=\"on\"\n          required />\n        <div class=\"d-flex align-items-center justify-content-between mt-4\">\n          <input class=\"form-control formifx\" type=\"verify\" v-model=\"userVerify\" placeholder=\"請輸入驗證碼\"\n            @keyup.enter=\"LoginCheck\" required />\n          <b-icon class=\"iconfix refresh\" icon=\"arrow-clockwise\" @click=\"refreshCode\"></b-icon>\n          <IdentifyCode class=\"d-flex\" :identifyCode=\"identifyCode\"></IdentifyCode>\n        </div>\n        <b-button class=\"btn btn-lg btn-block mt-4 fixLoginBtn\" variant=\"primary\" @click=\"LoginCheck\">登入</b-button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport IdentifyCode from '@/components/IdentifyCode.vue'\nimport {\n  LoginCheckAlert,\n  LoginAlert,\n  ErrorAlert\n} from \"@/mapconfig/mapconfig\";\nexport default {\n  name: 'LoginPage',\n  components: {\n    IdentifyCode\n  },\n  data() {\n    return {\n      userAccount: \"guest\",\n      userPassword: \"guest\",\n      userVerify: \"\",\n      identifyCode: \"\",\n      identifyCodes: \"0123456789\",\n      selected: {\n        ADZone: 'pubhq',\n        userZone: '',\n        extent: ''\n      },\n      options: [{\n        value: {\n          ADZone: 'pubhq',\n          userZone: '',\n          extent: ''\n        },\n        text: '總處'\n      },\n      {\n        value: {\n          ADZone: 'pub01',\n          userZone: \"01\",\n          extent: \"290888.677753005,2729663.74354507,351549.696778188,2799121.57918878\"\n        },\n        text: '一區'\n      },\n      {\n        value: {\n          ADZone: 'pub02',\n          userZone: \"02\",\n          extent: \"248579.654944045,2720036.38602586,298550.714410571,2781020.78005939\"\n        },\n        text: '二區'\n      },\n      {\n        value: {\n          ADZone: 'pub03',\n          userZone: \"03\",\n          extent: \"211851.301448155,2687575.52830169,291760.731009999,2759835.296374\"\n        },\n        text: '三區'\n      },\n      {\n        value: {\n          ADZone: 'pub04',\n          userZone: \"04\",\n          extent: \"195969.401088417,2592423.99756662,295752.921976107,2706371.14095748\"\n        },\n        text: '四區'\n      },\n      {\n        value: {\n          ADZone: 'pub05',\n          userZone: \"05\",\n          extent: \"147609.631715938,2568124.43338973,245624.384637974,2637704.76620646\"\n        },\n        text: '五區'\n      },\n      {\n        value: {\n          ADZone: 'pub06',\n          userZone: \"06\",\n          extent: \"150435.32153896,2531723.82415404,214806.517016181,2590177.49098738\"\n        },\n        text: '六區'\n      },\n      {\n        value: {\n          ADZone: 'pub07',\n          userZone: \"07\",\n          extent: \"77693.3466582598,2485543.08320941,255014.128710709,2634766.4049369\"\n        },\n        text: '七區'\n      },\n      {\n        value: {\n          ADZone: 'pub08',\n          userZone: \"08\",\n          extent: \"282112.97659785,2689427.92328793,347551.676706314,2764841.14001586\"\n        },\n        text: '八區'\n      },\n      {\n        value: {\n          ADZone: 'pub09',\n          userZone: \"09\",\n          extent: \"248626.421698634,2555180.75007733,328508.781102712,2696207.25004611\"\n        },\n        text: '九區'\n      },\n      {\n        value: {\n          ADZone: 'pub10',\n          userZone: \"10\",\n          extent: \"223162.340077418,2427498.61894551,313477.657084031,2593509.84118134\"\n        },\n        text: '十區'\n      },\n      {\n        value: {\n          ADZone: 'pub11',\n          userZone: \"11\",\n          extent: \"173453.975685867,2631329.98188754,217791.440343323,2676898.99469829\"\n        },\n        text: '十一區'\n      },\n      {\n        value: {\n          ADZone: 'pub12',\n          userZone: \"12\",\n          extent: \"281896.392312511,2742589.74119859,303610.082696441,2785088.75529013\"\n        },\n        text: '十二區'\n      },\n      {\n        value: {\n          ADZone: 'pub113',\n          userZone: \"13\",\n          extent: '183363.626942521,2422004.77310209,240162.160705329,2531612.52415244'\n        },\n        text: '十三區'\n      },\n      {\n        value: {\n          ADZone: 'pub13',\n          userZone: '',\n          extent: \"281896.392312511,2742589.74119859,303610.082696441,2785088.75529013\"\n        },\n        text: '北工處'\n      },\n      {\n        value: {\n          ADZone: 'pub14',\n          userZone: '',\n          extent: \"195969.401088417,2592423.99756662,295752.921976107,2706371.14095748\"\n        },\n        text: '中工處'\n      },\n      {\n        value: {\n          ADZone: 'pub15',\n          userZone: '',\n          extent: \"77692.0680844401,2422116.126398,255013.950002,2633395.41149565\"\n        },\n        text: '南工處'\n      }\n      ]\n    };\n  },\n  methods: {\n    //圖形驗證\n    randomNum(min, max) {\n      max = max + 1;\n      return Math.floor(Math.random() * (max - min) + min);\n    },\n    refreshCode() {\n      this.identifyCode = \"\";\n      this.makeCode(this.identifyCodes, 4);\n    },\n    makeCode(data, len) {\n      for (let i = 0; i < len; i++) {\n        this.identifyCode += data[\n          this.randomNum(0, data.length - 1)\n        ];\n      }\n    },\n    LoginCheck() {\n      if (this.userAccount.length === 0) {\n        new ErrorAlert(\"請輸入帳號!\");\n        this.refreshCode();\n      } else if (this.userPassword.length === 0) {\n        new ErrorAlert(\"請輸入密碼!\");\n        this.refreshCode();\n      } else if (this.userVerify.length === 0) {\n        new ErrorAlert(\"請輸入驗證碼!\");\n        this.refreshCode();\n      } else if (this.userVerify.toUpperCase() !== this.identifyCode.toUpperCase()) {\n        new ErrorAlert(\"您輸入的驗證碼錯誤!\");\n        this.refreshCode();\n      } else {\n        new LoginCheckAlert(\"AD帳號驗證中，請稍後...\")\n        this.axios.post('api/Authorization', {\n          Domain: this.selected.ADZone,\n          Account: this.userAccount,\n          Password: this.userPassword\n        })\n          .then(response => {\n            if (response.data.tologin === \"success\") {\n              sessionStorage.setItem('UserZone', this.selected.userZone);\n              sessionStorage.setItem('UserExtent', this.selected.extent);\n              sessionStorage.setItem('UserTraceId', response.data.traceid);\n              new LoginAlert(\"歡迎，\" + response.data.cname + \"使用圖資查詢系統(行動版)\");\n              this.$router.replace('/olmap');\n            } else if (response.data.tologin === \"ADNoAuthorization\") {\n              new ErrorAlert(\"查無此AD帳號!\");\n              this.refreshCode();\n            } else if (response.data.tologin === \"NoAuthorization\") {\n              new ErrorAlert(\"您無權限進入系統，請洽帳號管理人員!\");\n              this.refreshCode();\n            } else if (response.data.tologin === \"Error\") {\n              new ErrorAlert(\"帳號或密碼輸入錯誤!\");\n              this.refreshCode();\n            }\n          })\n          .catch(function () {\n            new ErrorAlert(\"連接逾時!請重新操作\");\n          });\n      }\n    }\n  },\n  created() {\n    //載入時產生驗證碼\n    this.refreshCode();\n  }\n}\n</script>\n\n<style scoped>\n@media (max-width: 320px) {\n  .iconfix {\n    margin-right: 0.3rem;\n    margin-left: 0.3rem;\n  }\n}\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  margin: 0;\n  font-family: inherit;\n  font-weight: bold;\n}\n\nh4,\n.h4 {\n  font-size: calc(1.275rem + 0.3vw);\n}\n\n.login {\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  flex-direction: column;\n  background-color: #f5f5f5;\n}\n\n.fix {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  max-width: 330px;\n  text-align: center;\n  background-color: #f5f5f5;\n}\n\n.form-signin {\n  width: 100%;\n  max-width: 330px;\n  padding: 15px;\n  margin: auto;\n}\n\n.form-signin .checkbox {\n  font-weight: 400;\n}\n\n.form-signin .form-control {\n  position: relative;\n  box-sizing: border-box;\n  height: auto;\n  padding: 10px;\n  font-size: 16px;\n}\n\n.form-signin .form-control:focus {\n  z-index: 2;\n}\n\n.form-signin input[type=\"password\"] {\n  margin-bottom: 10px;\n}\n\n.form-control {\n  display: block;\n  width: 100%;\n  padding: .375rem .75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: .25rem;\n  transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;\n}\n\n.mb-3 {\n  margin-top: 1rem !important;\n  margin-bottom: 1rem !important;\n}\n\n.btn-block {\n  display: block;\n  width: 100%;\n}\n\n.selectfix ::v-deep option {\n  font-weight: bolder;\n}\n\n.fixLoginBtn {\n  padding: 0.5rem 1rem;\n  font-size: 1.25rem;\n  height: 48px;\n  border-radius: 0.3rem;\n  display: block;\n  width: 100%;\n}\n\n.formifx {\n  width: 50%;\n}\n\n.iconfix {\n  color: #007bff;\n  font-size: 120%;\n}\n\n.refresh {\n  animation: refresh 1s infinite linear;\n}\n\n@keyframes refresh {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(359deg);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=0ab1ef37&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=0ab1ef37&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ab1ef37\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","require","_v","options","model","value","selected","callback","$$v","expression","directives","name","rawName","userAccount","domProps","on","$event","target","composing","userPassword","userVerify","type","indexOf","_k","keyCode","key","LoginCheck","apply","arguments","refreshCode","identifyCode","staticRenderFns","contentWidth","contentHeight","props","String","default","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","dotColorMin","dotColorMax","methods","randomNum","min","max","Math","floor","random","randomColor","r","g","b","drawPic","canvas","document","getElementById","ctx","getContext","textBaseline","fillStyle","fillRect","i","length","drawText","drawLine","drawDot","txt","font","x","y","translate","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","PI","fill","watch","mounted","component","components","IdentifyCode","data","identifyCodes","ADZone","userZone","extent","text","makeCode","len","ErrorAlert","toUpperCase","LoginCheckAlert","axios","post","Domain","Account","Password","then","response","tologin","sessionStorage","setItem","traceid","LoginAlert","cname","$router","replace","catch","created"],"sourceRoot":""}